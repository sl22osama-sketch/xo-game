<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© X O Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');
        body {
            font-family: 'Cairo', sans-serif;
        }
        .cell {
            transition: all 0.3s ease;
        }
        .cell:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .winner-line {
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .question-modal {
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-600 via-blue-600 to-teal-500 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">ğŸ”¥ Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ø¹Ù‚ÙˆÙ„ Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©</h1>
            <p class="text-xl text-white/90">âš¡ ØªØ­Ø¯Ù‰ Ù…Ø¹Ø±ÙØªÙƒ ÙˆØ§Ø«Ø¨Øª Ø£Ù†Ùƒ Ø¨Ø·Ù„ Ø§Ù„Ø«Ù‚Ø§ÙØ©! ğŸ†</p>
        </div>

        <!-- Game Info -->
        <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 mb-8 text-center">
            <div class="flex justify-center items-center gap-8 mb-4">
                <div class="text-white">
                    <span class="text-2xl font-bold">ğŸ”¥ Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„ (X)</span>
                    <div class="text-lg mt-1">Ø§Ù†ØªØµØ§Ø±Ø§Øª: <span id="scoreX" class="font-bold">0</span></div>
                </div>
                <div class="text-3xl">âš”ï¸</div>
                <div class="text-white">
                    <span class="text-2xl font-bold">âš¡ Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ (O)</span>
                    <div class="text-lg mt-1">Ø§Ù†ØªØµØ§Ø±Ø§Øª: <span id="scoreO" class="font-bold">0</span></div>
                </div>
            </div>
            <div id="currentPlayer" class="text-xl font-bold text-yellow-300">ğŸ¯ Ø¯ÙˆØ± Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„ - Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ù…Ø¹Ø±ÙƒØ©!</div>
        </div>

        <!-- Game Board -->
        <div class="max-w-md mx-auto mb-8">
            <div class="grid grid-cols-3 gap-4 bg-white/20 backdrop-blur-lg p-6 rounded-2xl">
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(0)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(1)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(2)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(3)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(4)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(5)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(6)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(7)"></div>
                <div class="cell bg-white/30 h-20 rounded-xl flex items-center justify-center text-3xl font-bold cursor-pointer hover:bg-white/40" onclick="cellClick(8)"></div>
            </div>
        </div>

        <!-- Control Buttons -->
        <div class="text-center">
            <button onclick="resetGame()" class="bg-white/20 hover:bg-white/30 text-white font-bold py-3 px-8 rounded-xl transition-all duration-300 backdrop-blur-lg">
                ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
            </button>
        </div>
    </div>

    <!-- Question Modal -->
    <div id="questionModal" class="fixed inset-0 question-modal bg-black/50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-lg mx-4 text-center">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">ğŸ¤” Ø³Ø¤Ø§Ù„ Ø«Ù‚Ø§ÙÙŠ</h3>
            <p id="questionText" class="text-lg text-gray-700 mb-6 leading-relaxed"></p>
            <div id="answerButtons" class="space-y-3"></div>
        </div>
    </div>

    <!-- Result Modal -->
    <div id="resultModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-md mx-4 text-center">
            <div id="resultIcon" class="text-6xl mb-4"></div>
            <h3 id="resultTitle" class="text-2xl font-bold text-gray-800 mb-4"></h3>
            <p id="resultMessage" class="text-lg text-gray-600 mb-6"></p>
            <button onclick="closeResultModal()" class="bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold py-3 px-8 rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all duration-300">
                Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù„Ø¹Ø¨
            </button>
        </div>
    </div>

    <script>
        let board = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'X';
        let gameActive = true;
        let scoreX = 0;
        let scoreO = 0;
        let currentCellIndex = -1;
        let usedQuestions = new Set();

        const questions = [
            {
                question: "ğŸ§  Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ AuØŸ",
                answers: ["Ø§Ù„ÙØ¶Ø©", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„Ù†Ø­Ø§Ø³", "Ø§Ù„Ø¨Ù„Ø§ØªÙŠÙ†"],
                correct: 1
            },
            {
                question: "ğŸŒ ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø³Ù‚Ø· Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†ØŸ",
                answers: ["1987", "1988", "1989", "1990"],
                correct: 2
            },
            {
                question: "ğŸ”¬ ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø¸Ø§Ù… ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ",
                answers: ["196", "206", "216", "226"],
                correct: 1
            },
            {
                question: "ğŸ¨ Ù…Ù† Ø±Ø³Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙˆÙ†Ø§Ù„ÙŠØ²Ø§ Ø§Ù„Ø´Ù‡ÙŠØ±Ø©ØŸ",
                answers: ["Ù…Ø§ÙŠÙƒÙ„ Ø£Ù†Ø¬Ù„Ùˆ", "Ù„ÙŠÙˆÙ†Ø§Ø±Ø¯Ùˆ Ø¯Ø§ ÙÙŠÙ†Ø´ÙŠ", "Ø¨ÙŠÙƒØ§Ø³Ùˆ", "ÙØ§Ù† Ø¬ÙˆØ®"],
                correct: 1
            },
            {
                question: "ğŸŒŠ Ù…Ø§ Ù‡Ùˆ Ø£Ø¹Ù…Ù‚ Ø®Ù†Ø¯Ù‚ ÙÙŠ Ø§Ù„Ù…Ø­ÙŠØ·Ø§ØªØŸ",
                answers: ["Ø®Ù†Ø¯Ù‚ Ø¨ÙˆØ±ØªÙˆØ±ÙŠÙƒÙˆ", "Ø®Ù†Ø¯Ù‚ Ù…Ø§Ø±ÙŠØ§Ù†Ø§", "Ø®Ù†Ø¯Ù‚ Ø§Ù„ÙŠØ§Ø¨Ø§Ù†", "Ø®Ù†Ø¯Ù‚ Ø¨ÙŠØ±Ùˆ"],
                correct: 1
            },
            {
                question: "ğŸ›ï¸ ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© ÙŠÙ‚Ø¹ ØªØ§Ø¬ Ù…Ø­Ù„ØŸ",
                answers: ["Ø¯Ù„Ù‡ÙŠ", "Ù…ÙˆÙ…Ø¨Ø§ÙŠ", "Ø£ØºØ±Ø§", "ÙƒÙ„ÙƒØªØ§"],
                correct: 2
            },
            {
                question: "âš¡ Ù…Ù† Ø§Ø®ØªØ±Ø¹ Ø§Ù„Ù…ØµØ¨Ø§Ø­ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ",
                answers: ["Ù†ÙŠÙƒÙˆÙ„Ø§ ØªØ³Ù„Ø§", "ØªÙˆÙ…Ø§Ø³ Ø¥Ø¯ÙŠØ³ÙˆÙ†", "Ø£Ù„ÙƒØ³Ù†Ø¯Ø± Ø¨ÙŠÙ„", "Ø¨Ù†Ø¬Ø§Ù…ÙŠÙ† ÙØ±Ø§Ù†ÙƒÙ„ÙŠÙ†"],
                correct: 1
            },
            {
                question: "ğŸŒŒ ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ù…Ø§Ø± Ø§Ù„ØªÙŠ ØªØ¯ÙˆØ± Ø­ÙˆÙ„ ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ø´ØªØ±ÙŠØŸ",
                answers: ["67", "79", "82", "95"],
                correct: 1
            },
            {
                question: "ğŸ“š Ù…Ù† ÙƒØªØ¨ Ø±ÙˆØ§ÙŠØ© 'Ù…Ø¦Ø© Ø¹Ø§Ù… Ù…Ù† Ø§Ù„Ø¹Ø²Ù„Ø©'ØŸ",
                answers: ["Ø¨ÙˆØ±Ø®ÙŠØ³", "ØºØ§Ø¨Ø±ÙŠÙŠÙ„ ØºØ§Ø±Ø³ÙŠØ§ Ù…Ø§Ø±ÙƒÙŠØ²", "Ø¥ÙŠØ²Ø§Ø¨ÙŠÙ„ Ø§Ù„Ù„ÙŠÙ†Ø¯ÙŠ", "Ø£ÙˆÙƒØªØ§ÙÙŠÙˆ Ø¨Ø§Ø«"],
                correct: 1
            },
            {
                question: "ğŸµ ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆØªØ§Ø± ÙÙŠ Ø¢Ù„Ø© Ø§Ù„ÙƒÙ…Ø§Ù†ØŸ",
                answers: ["3", "4", "5", "6"],
                correct: 1
            },
            {
                question: "ğŸ”ï¸ Ù…Ø§ Ù‡Ùˆ Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ù‚Ø§Ø±Ø© Ø£ÙØ±ÙŠÙ‚ÙŠØ§ØŸ",
                answers: ["Ø¬Ø¨Ù„ ÙƒÙŠÙ†ÙŠØ§", "Ø¬Ø¨Ù„ ÙƒÙ„ÙŠÙ…Ù†Ø¬Ø§Ø±Ùˆ", "Ø¬Ø¨Ù„ Ø¥Ù„Ø¬ÙˆÙ†", "Ø¬Ø¨Ù„ Ø±Ø§Ø³ Ø¯Ø§Ø´Ø§Ù†"],
                correct: 1
            },
            {
                question: "ğŸ§¬ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­Ù…Ø¶ Ø§Ù„Ù†ÙˆÙˆÙŠ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ù†Ù‚Ù„ Ø§Ù„ØµÙØ§Øª Ø§Ù„ÙˆØ±Ø§Ø«ÙŠØ©ØŸ",
                answers: ["RNA", "DNA", "ATP", "ADP"],
                correct: 1
            },
            {
                question: "ğŸº ÙÙŠ Ø£ÙŠ Ø­Ø¶Ø§Ø±Ø© Ø¸Ù‡Ø±Øª Ø£ÙˆÙ„ ÙƒØªØ§Ø¨Ø© Ù…Ø³Ù…Ø§Ø±ÙŠØ©ØŸ",
                answers: ["Ø§Ù„Ù…ØµØ±ÙŠØ©", "Ø§Ù„Ø³ÙˆÙ…Ø±ÙŠØ©", "Ø§Ù„Ø¨Ø§Ø¨Ù„ÙŠØ©", "Ø§Ù„Ø¢Ø´ÙˆØ±ÙŠØ©"],
                correct: 1
            },
            {
                question: "ğŸŒ¡ï¸ Ø¹Ù†Ø¯ Ø£ÙŠ Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø© ÙŠØªØ¬Ù…Ø¯ Ø§Ù„Ù…Ø§Ø¡ Ø¨Ø§Ù„Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ù…Ø¦ÙˆÙŠØŸ",
                answers: ["-1Â°", "0Â°", "1Â°", "32Â°"],
                correct: 1
            },
            {
                question: "ğŸ­ Ù…Ù† ÙƒØªØ¨ Ù…Ø³Ø±Ø­ÙŠØ© 'Ù‡Ø§Ù…Ù„Øª'ØŸ",
                answers: ["ÙƒØ±ÙŠØ³ØªÙˆÙØ± Ù…Ø§Ø±Ù„Ùˆ", "ÙˆÙ„ÙŠÙ… Ø´ÙƒØ³Ø¨ÙŠØ±", "Ø¨Ù† Ø¬ÙˆÙ†Ø³ÙˆÙ†", "Ø¬ÙˆÙ† ÙˆÙŠØ¨Ø³ØªØ±"],
                correct: 1
            },
            {
                question: "ğŸš€ Ù…Ø§ Ù‡Ùˆ Ø£ÙˆÙ„ ÙƒÙˆÙƒØ¨ ØªÙ… Ø§ÙƒØªØ´Ø§ÙÙ‡ Ø¨Ø§Ù„ØªÙ„Ø³ÙƒÙˆØ¨ØŸ",
                answers: ["Ø§Ù„Ù…Ø±ÙŠØ®", "Ø§Ù„Ù…Ø´ØªØ±ÙŠ", "Ø£ÙˆØ±Ø§Ù†ÙˆØ³", "Ù†Ø¨ØªÙˆÙ†"],
                correct: 2
            },
            {
                question: "ğŸ’ Ù…Ø§ Ù‡Ùˆ Ø£Ù‚Ø³Ù‰ Ù…Ø¹Ø¯Ù† Ø·Ø¨ÙŠØ¹ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ØŸ",
                answers: ["Ø§Ù„ÙŠØ§Ù‚ÙˆØª", "Ø§Ù„Ø²Ù…Ø±Ø¯", "Ø§Ù„Ø£Ù„Ù…Ø§Ø³", "Ø§Ù„ØªÙˆØ¨Ø§Ø²"],
                correct: 2
            },
            {
                question: "ğŸ›ï¸ ÙƒÙ… Ø¹Ø¬ÙŠØ¨Ø© Ù…Ù† Ø¹Ø¬Ø§Ø¦Ø¨ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§Ù„Ø³Ø¨Ø¹ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø§ Ø²Ø§Ù„Øª Ù…ÙˆØ¬ÙˆØ¯Ø©ØŸ",
                answers: ["ÙˆØ§Ø­Ø¯Ø©", "Ø§Ø«Ù†ØªØ§Ù†", "Ø«Ù„Ø§Ø«", "Ø£Ø±Ø¨Ø¹"],
                correct: 0
            },
            {
                question: "ğŸŒ‹ Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ø¨Ø±ÙƒØ§Ù† Ù†Ø´Ø· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                answers: ["Ø¥ØªÙ†Ø§", "ÙÙŠØ²ÙˆÙ", "Ù…ÙˆÙ†Ø§ Ù„ÙˆØ§", "ÙƒØ±Ø§ÙƒØ§ØªÙˆØ§"],
                correct: 2
            },
            {
                question: "ğŸ§® Ù…Ù† ÙˆØ¶Ø¹ Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©ØŸ",
                answers: ["Ø¥Ø³Ø­Ø§Ù‚ Ù†ÙŠÙˆØªÙ†", "Ø£Ù„Ø¨Ø±Øª Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†", "ØºØ§Ù„ÙŠÙ„ÙŠÙˆ", "ÙƒÙˆØ¨Ø±Ù†ÙŠÙƒÙˆØ³"],
                correct: 1
            },
            {
                question: "ğŸ† ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø£Ù‚ÙŠÙ…Øª Ø£ÙˆÙ„ Ø¯ÙˆØ±Ø© Ø£Ù„Ø¹Ø§Ø¨ Ø£ÙˆÙ„Ù…Ø¨ÙŠØ© Ø­Ø¯ÙŠØ«Ø©ØŸ",
                answers: ["1892", "1896", "1900", "1904"],
                correct: 1
            },
            {
                question: "ğŸŒ¿ Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø°ÙŠ ØªÙ…ØªØµÙ‡ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù…Ù† Ø§Ù„Ù‡ÙˆØ§Ø¡ØŸ",
                answers: ["Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†"],
                correct: 2
            },
            {
                question: "ğŸª ÙƒÙ… Ø¹Ø¯Ø¯ Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù…Ø¨ÙŠØ©ØŸ",
                answers: ["4", "5", "6", "7"],
                correct: 1
            },
            {
                question: "ğŸ“ ÙƒÙ… Ø²Ø§ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø«Ù„Ø«ØŸ",
                answers: ["2", "3", "4", "5"],
                correct: 1
            },
            {
                question: "ğŸŒŠ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø¶ÙŠÙ‚ Ø§Ù„Ø°ÙŠ ÙŠÙØµÙ„ Ø¨ÙŠÙ† Ø£ÙˆØ±ÙˆØ¨Ø§ ÙˆØ¢Ø³ÙŠØ§ØŸ",
                answers: ["Ø§Ù„Ø¨ÙˆØ³ÙÙˆØ±", "Ø¬Ø¨Ù„ Ø·Ø§Ø±Ù‚", "Ù‡Ø±Ù…Ø²", "Ù…Ù„Ù‚Ø§"],
                correct: 0
            }
        ];

        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];

        function cellClick(index) {
            if (board[index] !== '' || !gameActive) return;
            
            currentCellIndex = index;
            showQuestion();
        }

        function getRandomQuestion() {
            let availableQuestions = questions.filter((_, index) => !usedQuestions.has(index));
            
            if (availableQuestions.length === 0) {
                usedQuestions.clear();
                availableQuestions = questions;
            }
            
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            const selectedQuestion = availableQuestions[randomIndex];
            const originalIndex = questions.indexOf(selectedQuestion);
            usedQuestions.add(originalIndex);
            
            return selectedQuestion;
        }

        function showQuestion() {
            const question = getRandomQuestion();
            document.getElementById('questionText').textContent = question.question;
            
            const buttonsContainer = document.getElementById('answerButtons');
            buttonsContainer.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.textContent = answer;
                button.className = 'w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-3 px-6 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300';
                button.onclick = () => answerQuestion(index === question.correct);
                buttonsContainer.appendChild(button);
            });
            
            document.getElementById('questionModal').classList.remove('hidden');
            document.getElementById('questionModal').classList.add('flex');
        }

        function answerQuestion(isCorrect) {
            document.getElementById('questionModal').classList.add('hidden');
            document.getElementById('questionModal').classList.remove('flex');
            
            if (isCorrect) {
                const successMessages = [
                    "ğŸ”¥ Ø±Ø§Ø¦Ø¹! Ø¹Ù‚Ù„ Ø°ÙƒÙŠ ÙˆÙ…ØªÙ…ÙŠØ²!",
                    "âš¡ Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø±ÙØ©!",
                    "ğŸŒŸ Ø¨Ø·Ù„! Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø°Ù‡Ù„Ø©!",
                    "ğŸš€ Ø¹Ø¨Ù‚Ø±ÙŠ! ØªØ³ØªØ­Ù‚ Ø§Ù„ØªØµÙÙŠÙ‚!",
                    "ğŸ’ Ø£Ø³Ø·ÙˆØ±ÙŠ! Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù‚ÙˆÙŠØ©!",
                    "ğŸ† Ø¨Ø·Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ©! ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ…ÙŠØ²!",
                    "â­ Ù†Ø¬Ù… Ø³Ø§Ø·Ø¹! Ø¥Ø¬Ø§Ø¨Ø© Ø±Ø§Ø¦Ø¹Ø©!",
                    "ğŸ¯ Ù‡Ø¯Ù ÙÙŠ Ø§Ù„Ù…Ø±Ù…Ù‰! Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©!"
                ];
                const randomSuccess = successMessages[Math.floor(Math.random() * successMessages.length)];
                makeMove();
                showResult(true, randomSuccess, "ØªÙ… ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ£Ù„Ù‚!");
            } else {
                const failMessages = [
                    "ğŸ’ª Ù„Ø§ ØªØ³ØªØ³Ù„Ù…! Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø³ØªÙƒÙˆÙ† Ø£ÙØ¶Ù„!",
                    "ğŸ”¥ ØªØ­Ø¯ÙŠ Ø±Ø§Ø¦Ø¹! Ø¹Ø¯ Ø¨Ù‚ÙˆØ© Ø£ÙƒØ¨Ø±!",
                    "âš¡ ÙƒÙ„ Ø®Ø·Ø£ Ø¯Ø±Ø³! Ø£Ù†Øª ØªØªØ¹Ù„Ù… ÙˆØªØªØ·ÙˆØ±!",
                    "ğŸŒŸ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù†Ø¬Ø§Ø­! ÙˆØ§ØµÙ„ Ø§Ù„Ù‚ØªØ§Ù„!",
                    "ğŸš€ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ Ù„Ø§ ÙŠØ³ØªØ³Ù„Ù…ÙˆÙ†! Ø¹ÙˆØ¯Ø© Ù‚ÙˆÙŠØ©!",
                    "ğŸ’ ÙƒÙ„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ¬Ø¹Ù„Ùƒ Ø£Ù‚ÙˆÙ‰! Ù„Ø§ ØªØªÙˆÙ‚Ù!",
                    "ğŸ† Ø§Ù„ÙØ´Ù„ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù†Ø¬Ø§Ø­! Ø§Ù†Ø·Ù„Ù‚ Ø¨Ù‚ÙˆØ©!",
                    "â­ Ø§Ù„Ù†Ø¬ÙˆÙ… ØªÙˆÙ„Ø¯ Ù…Ù† Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª! Ø£Ù†Øª Ù†Ø¬Ù…!"
                ];
                const randomFail = failMessages[Math.floor(Math.random() * failMessages.length)];
                showResult(false, randomFail, "Ø§Ù„Ø¯ÙˆØ± Ø§Ù„ØªØ§Ù„ÙŠ ÙØ±ØµØªÙƒ Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù…! Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ù…Ø¹Ø±ÙƒØ©!");
                switchPlayer();
            }
        }

        function makeMove() {
            board[currentCellIndex] = currentPlayer;
            document.getElementsByClassName('cell')[currentCellIndex].textContent = currentPlayer;
            document.getElementsByClassName('cell')[currentCellIndex].style.color = currentPlayer === 'X' ? '#ef4444' : '#3b82f6';
            
            if (checkWinner()) {
                gameActive = false;
                if (currentPlayer === 'X') {
                    scoreX++;
                    document.getElementById('scoreX').textContent = scoreX;
                } else {
                    scoreO++;
                    document.getElementById('scoreO').textContent = scoreO;
                }
                setTimeout(() => {
                    const winMessages = [
                        `ğŸ† Ø£Ø³Ø·ÙˆØ±Ø©! Ø§Ù„Ù„Ø§Ø¹Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} Ù…Ù„Ùƒ Ø§Ù„Ù…Ø¹Ø±ÙØ©!`,
                        `âš¡ Ø¹Ø§ØµÙØ© Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡! Ø§Ù„Ù„Ø§Ø¹Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} Ø¨Ø·Ù„ Ù„Ø§ ÙŠÙÙ‚Ù‡Ø±!`,
                        `ğŸ”¥ Ø§Ù†ØªØµØ§Ø± Ø³Ø§Ø­Ù‚! Ø§Ù„Ù„Ø§Ø¹Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} Ø¹Ø¨Ù‚Ø±ÙŠ Ø§Ù„Ø¹ØµØ±!`,
                        `ğŸŒŸ Ù†Ø¬Ù… Ù…ØªØ£Ù„Ù‚! Ø§Ù„Ù„Ø§Ø¹Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} Ø³ÙŠØ¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨!`,
                        `ğŸš€ ØµØ§Ø±ÙˆØ® Ø§Ù„Ù…Ø¹Ø±ÙØ©! Ø§Ù„Ù„Ø§Ø¹Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} ÙˆØµÙ„ Ù„Ù„Ù‚Ù…Ø©!`
                    ];
                    const randomWin = winMessages[Math.floor(Math.random() * winMessages.length)];
                    showResult(true, randomWin, "ğŸŠ Ø§Ù†ØªØµØ§Ø± Ù…Ø°Ù‡Ù„! Ø£Ù†Øª Ø¨Ø·Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠØ³ØªØ­Ù‚ ÙƒÙ„ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±! ğŸŠ");
                }, 1000);
                return;
            }
            
            if (board.every(cell => cell !== '')) {
                gameActive = false;
                setTimeout(() => {
                    const drawMessages = [
                        "ğŸ¤ Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±! ØªØ¹Ø§Ø¯Ù„ Ù…Ù„Ø­Ù…ÙŠ!",
                        "âš”ï¸ ØµØ±Ø§Ø¹ Ø§Ù„Ø¬Ø¨Ø§Ø¨Ø±Ø©! Ù‚ÙˆØ© Ù…ØªØ³Ø§ÙˆÙŠØ©!",
                        "ğŸ”¥ Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†Ø§Ø± Ø¨Ø§Ù„Ù†Ø§Ø±! ØªØ¹Ø§Ø¯Ù„ Ø±Ø§Ø¦Ø¹!",
                        "âš¡ Ø¨Ø±Ù‚ ÙŠØµØ·Ø¯Ù… Ø¨Ø¨Ø±Ù‚! Ø·Ø§Ù‚Ø© Ù…ØªÙˆØ§Ø²Ù†Ø©!",
                        "ğŸŒŸ Ù†Ø¬Ù…Ø§Ù† ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡! Ø¥Ø¨Ø¯Ø§Ø¹ Ù…Ø´ØªØ±Ùƒ!"
                    ];
                    const randomDraw = drawMessages[Math.floor(Math.random() * drawMessages.length)];
                    showResult(true, randomDraw, "ğŸ­ Ø¹Ø±Ø¶ Ù…Ø°Ù‡Ù„ Ù…Ù† ÙƒÙ„Ø§ Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ÙŠÙ†! Ø£Ù†ØªÙ…Ø§ Ø£Ø¨Ø·Ø§Ù„ Ø­Ù‚ÙŠÙ‚ÙŠÙˆÙ†! ğŸ­");
                }, 1000);
                return;
            }
            
            switchPlayer();
        }

        function switchPlayer() {
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            const playerMessages = [
                `ğŸ¯ Ø¯ÙˆØ± Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} - Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ù…Ø¹Ø±ÙƒØ©!`,
                `âš¡ Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} - Ø£Ø¸Ù‡Ø± Ù‚ÙˆØªÙƒ!`,
                `ğŸ”¥ Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} ÙÙŠ Ø§Ù„Ø³Ø§Ø­Ø© - Ø§Ø«Ø¨Øª ØªÙÙˆÙ‚Ùƒ!`,
                `ğŸŒŸ Ø¯ÙˆØ± Ø§Ù„Ø¨Ø·Ù„ ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø«Ø§Ù†ÙŠ'} - Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø¬Ù…ÙŠØ¹ ÙŠØ´Ø§Ù‡Ø¯!`
            ];
            const randomMessage = playerMessages[Math.floor(Math.random() * playerMessages.length)];
            document.getElementById('currentPlayer').textContent = randomMessage;
        }

        function checkWinner() {
            return winningConditions.some(condition => {
                const [a, b, c] = condition;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    // Highlight winning cells
                    [a, b, c].forEach(index => {
                        document.getElementsByClassName('cell')[index].classList.add('winner-line');
                        document.getElementsByClassName('cell')[index].style.backgroundColor = 'rgba(34, 197, 94, 0.3)';
                    });
                    return true;
                }
                return false;
            });
        }

        function showResult(success, title, message) {
            document.getElementById('resultIcon').textContent = success ? (title.includes('ÙØ§Ø²') ? 'ğŸ†' : title.includes('ØªØ¹Ø§Ø¯Ù„') ? 'ğŸ¤' : 'âœ…') : 'âŒ';
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultModal').classList.remove('hidden');
            document.getElementById('resultModal').classList.add('flex');
        }

        function closeResultModal() {
            document.getElementById('resultModal').classList.add('hidden');
            document.getElementById('resultModal').classList.remove('flex');
            
            if (!gameActive) {
                resetBoard();
            }
        }

        function resetBoard() {
            board = ['', '', '', '', '', '', '', '', ''];
            gameActive = true;
            currentPlayer = 'X';
            document.getElementById('currentPlayer').textContent = 'ğŸ¯ Ø¯ÙˆØ± Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„ - Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ù…Ø¹Ø±ÙƒØ©!';
            
            const cells = document.getElementsByClassName('cell');
            for (let cell of cells) {
                cell.textContent = '';
                cell.classList.remove('winner-line');
                cell.style.backgroundColor = '';
                cell.style.color = '';
            }
        }

        function resetGame() {
            resetBoard();
            scoreX = 0;
            scoreO = 0;
            usedQuestions.clear();
            document.getElementById('scoreX').textContent = '0';
            document.getElementById('scoreO').textContent = '0';
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9755a79482fd24fe',t:'MTc1NjIzNTY5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
