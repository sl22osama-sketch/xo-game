<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© X O Ù„Ù„Ø·Ø§Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø±ÙŠØ¬Ø§Øª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@400;600;700;800&display=swap');
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #533483 75%, #e94560 100%);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .graduation-bg {
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.3) 0%, transparent 50%);
        }
        
        .graduation-cap {
            position: absolute;
            font-size: 3rem;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .cell {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(20px);
            border: 4px solid #000000;
            background: rgba(255, 255, 255, 0.9);
        }
        
        .cell:hover {
            transform: scale(1.1) rotate(2deg);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border-color: rgba(255, 255, 255, 0.6);
        }
        
        .winner-line {
            animation: celebration 1.5s ease-in-out infinite;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7);
            background-size: 300% 300%;
        }
        
        @keyframes celebration {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
                background-position: 0% 50%;
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.05);
                background-position: 100% 50%;
            }
        }
        
        .question-modal {
            backdrop-filter: blur(15px);
            animation: modalSlideIn 0.5s ease-out;
        }
        
        @keyframes modalSlideIn {
            from { opacity: 0; transform: scale(0.8) translateY(-50px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border: 2px solid #000000;
        }
        
        .answer-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #000000;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .answer-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }
        
        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .answer-btn:hover::before {
            left: 100%;
        }
        
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            animation: sparkle 2s linear infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        .title-glow {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5),
                         0 0 40px rgba(255, 255, 255, 0.3),
                         0 0 60px rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body class="graduation-bg min-h-screen relative overflow-hidden">
    <!-- Floating Graduation Caps -->
    <div class="graduation-cap" style="top: 10%; left: 10%; animation-delay: 0s;">ğŸ“</div>
    <div class="graduation-cap" style="top: 20%; right: 15%; animation-delay: 1s;">ğŸ“</div>
    <div class="graduation-cap" style="bottom: 30%; left: 20%; animation-delay: 2s;">ğŸ“</div>
    <div class="graduation-cap" style="bottom: 15%; right: 10%; animation-delay: 3s;">ğŸ“</div>
    <div class="graduation-cap" style="top: 50%; left: 5%; animation-delay: 4s;">ğŸ“</div>
    <div class="graduation-cap" style="top: 70%; right: 5%; animation-delay: 5s;">ğŸ“</div>

    <!-- Sparkles -->
    <div class="sparkle" style="top: 15%; left: 25%; animation-delay: 0.5s;"></div>
    <div class="sparkle" style="top: 35%; right: 30%; animation-delay: 1.2s;"></div>
    <div class="sparkle" style="bottom: 40%; left: 15%; animation-delay: 2.1s;"></div>
    <div class="sparkle" style="bottom: 20%; right: 25%; animation-delay: 3.3s;"></div>

    <div class="container mx-auto px-6 py-12 relative z-10">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-6xl md:text-8xl font-black text-black mb-6 title-glow">
                ğŸ“ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¹Ù‚ÙˆÙ„ Ù„Ù„Ø®Ø±ÙŠØ¬Ø§Øª ğŸŒŸ
            </h1>
            <p class="text-2xl md:text-3xl text-black font-bold leading-relaxed">
                âœ¨ ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ù„Ù„Ø·Ø§Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªÙ…ÙŠØ²Ø§Øª âœ¨
            </p>
            <div class="mt-6 text-xl text-black">
                ğŸ† Ø§Ø«Ø¨ØªÙŠ ØªÙÙˆÙ‚ÙƒÙ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ© ğŸ†
            </div>
        </div>

        <!-- Game Info -->
        <div class="glass-effect rounded-3xl p-8 mb-12 text-center shadow-2xl">
            <div class="flex justify-center items-center gap-12 mb-6">
                <div class="text-black">
                    <div class="text-4xl mb-2">ğŸ‘©â€ğŸ“</div>
                    <span class="text-3xl font-bold">Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (X)</span>
                    <div class="text-2xl mt-2 font-semibold">Ø§Ù†ØªØµØ§Ø±Ø§Øª: <span id="scoreX" class="font-black text-red-600">0</span></div>
                </div>
                <div class="text-6xl animate-pulse">âš”ï¸</div>
                <div class="text-black">
                    <div class="text-4xl mb-2">ğŸ‘©â€ğŸ“</div>
                    <span class="text-3xl font-bold">Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (O)</span>
                    <div class="text-2xl mt-2 font-semibold">Ø§Ù†ØªØµØ§Ø±Ø§Øª: <span id="scoreO" class="font-black text-red-600">0</span></div>
                </div>
            </div>
            <div id="currentPlayer" class="text-3xl font-black text-black bg-white/90 border-2 border-black rounded-2xl py-4 px-8">
                ğŸ¯ Ø¯ÙˆØ± Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø§Ø³ØªØ¹Ø¯ÙŠ Ù„Ù„ØªØ­Ø¯ÙŠ!
            </div>
        </div>

        <!-- Game Board -->
        <div class="max-w-2xl mx-auto mb-12">
            <div class="grid grid-cols-3 gap-6 glass-effect p-8 rounded-3xl shadow-2xl">
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(0)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(1)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(2)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(3)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(4)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(5)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(6)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(7)"></div>
                <div class="cell h-32 md:h-40 rounded-2xl flex items-center justify-center text-6xl md:text-7xl font-black cursor-pointer text-black" onclick="cellClick(8)"></div>
            </div>
        </div>

        <!-- Control Buttons -->
        <div class="text-center">
            <button onclick="resetGame()" class="glass-effect text-black font-black py-6 px-12 rounded-2xl transition-all duration-300 text-2xl hover:scale-110 hover:shadow-2xl border-2 border-black">
                ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
            </button>
        </div>
    </div>

    <!-- Question Modal -->
    <div id="questionModal" class="fixed inset-0 question-modal bg-black/60 hidden items-center justify-center z-50 p-6">
        <div class="glass-effect rounded-3xl p-10 max-w-4xl mx-auto text-center shadow-2xl">
            <h3 class="text-4xl font-black text-black mb-8">ğŸ¤” Ø³Ø¤Ø§Ù„ Ø«Ù‚Ø§ÙÙŠ Ù„Ù„Ø®Ø±ÙŠØ¬Ø© Ø§Ù„Ù…ØªÙ…ÙŠØ²Ø©</h3>
            <p id="questionText" class="text-2xl text-black mb-10 leading-relaxed font-semibold"></p>
            <div id="answerButtons" class="space-y-4"></div>
        </div>
    </div>

    <!-- Result Modal -->
    <div id="resultModal" class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50 p-6">
        <div class="glass-effect rounded-3xl p-10 max-w-2xl mx-auto text-center shadow-2xl">
            <div id="resultIcon" class="text-8xl mb-6"></div>
            <h3 id="resultTitle" class="text-4xl font-black text-black mb-6"></h3>
            <p id="resultMessage" class="text-2xl text-black mb-8 leading-relaxed"></p>
            <button onclick="closeResultModal()" class="answer-btn text-black font-black py-4 px-10 rounded-2xl text-xl">
                Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù„Ø¹Ø¨
            </button>
        </div>
    </div>

    <script>
        let board = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'X';
        let gameActive = true;
        let scoreX = 0;
        let scoreO = 0;
        let currentCellIndex = -1;
        let usedQuestions = new Set();
        let currentQuestionSet = 0;

        const questionSets = [
            // Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø§Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§
            [
                {
                    question: "ğŸ§¬ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ AuØŸ",
                    answers: ["Ø§Ù„ÙØ¶Ø©", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„Ù†Ø­Ø§Ø³", "Ø§Ù„Ø¨Ù„Ø§ØªÙŠÙ†"],
                    correct: 1
                },
                {
                    question: "ğŸ”¬ ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ±ÙˆÙ…ÙˆØ³ÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ø®Ù„ÙŠØ© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©ØŸ",
                    answers: ["44", "46", "48", "50"],
                    correct: 1
                },
                {
                    question: "ğŸŒŒ Ù…Ø§ Ù‡Ùˆ Ø£Ù‚Ø±Ø¨ Ù†Ø¬Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ØŸ",
                    answers: ["Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ", "Ø§Ù„Ø´Ù…Ø³", "Ø³ÙŠØ±ÙŠÙˆØ³", "Ø§Ù„Ù†Ø¬Ù… Ø§Ù„Ù‚Ø·Ø¨ÙŠ"],
                    correct: 1
                },
                {
                    question: "âš¡ Ù…Ù† Ø§Ø®ØªØ±Ø¹ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ØŸ",
                    answers: ["ØªÙˆÙ…Ø§Ø³ Ø¥Ø¯ÙŠØ³ÙˆÙ†", "Ø¨Ù†Ø¬Ø§Ù…ÙŠÙ† ÙØ±Ø§Ù†ÙƒÙ„ÙŠÙ†", "Ù†ÙŠÙƒÙˆÙ„Ø§ ØªØ³Ù„Ø§", "Ø£Ù„ÙƒØ³Ù†Ø¯Ø± Ø¨ÙŠÙ„"],
                    correct: 1
                },
                {
                    question: "ğŸ§® Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø°ÙŠ Ø¥Ø°Ø§ Ø¶ÙØ±Ø¨ ÙÙŠ Ù†ÙØ³Ù‡ ÙŠØ¹Ø·ÙŠ 144ØŸ",
                    answers: ["11", "12", "13", "14"],
                    correct: 1
                },
                {
                    question: "ğŸŒ¡ï¸ Ø¹Ù†Ø¯ Ø£ÙŠ Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø© ÙŠØºÙ„ÙŠ Ø§Ù„Ù…Ø§Ø¡ØŸ",
                    answers: ["90Â°", "95Â°", "100Â°", "105Â°"],
                    correct: 2
                },
                {
                    question: "ğŸ’ Ù…Ø§ Ù‡Ùˆ Ø£Ù‚Ø³Ù‰ Ù…Ø¹Ø¯Ù† Ø·Ø¨ÙŠØ¹ÙŠØŸ",
                    answers: ["Ø§Ù„Ø­Ø¯ÙŠØ¯", "Ø§Ù„Ø£Ù„Ù…Ø§Ø³", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„ÙØ¶Ø©"],
                    correct: 1
                },
                {
                    question: "ğŸŒ ÙƒÙ… ØªØ¨Ù„Øº Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø§Ø¡ ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ",
                    answers: ["50%", "60%", "70%", "80%"],
                    correct: 2
                },
                {
                    question: "ğŸš€ ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ù‡Ø¨Ø· Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù…Ø± Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©ØŸ",
                    answers: ["1967", "1968", "1969", "1970"],
                    correct: 2
                },
                {
                    question: "ğŸ§  ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø¸Ø§Ù… ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ",
                    answers: ["196", "206", "216", "226"],
                    correct: 1
                }
            ],
            // Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© - Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§
            [
                {
                    question: "ğŸ›ï¸ ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø³Ù‚Ø· Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†ØŸ",
                    answers: ["1987", "1988", "1989", "1990"],
                    correct: 2
                },
                {
                    question: "ğŸŒŠ Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                    answers: ["Ø§Ù„Ù†ÙŠÙ„", "Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†", "Ø§Ù„ÙØ±Ø§Øª", "Ø§Ù„Ù…Ø³ÙŠØ³ÙŠØ¨ÙŠ"],
                    correct: 0
                },
                {
                    question: "ğŸ”ï¸ Ù…Ø§ Ù‡Ùˆ Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                    answers: ["ÙƒÙ„ÙŠÙ…Ù†Ø¬Ø§Ø±Ùˆ", "Ø¥ÙŠÙØ±Ø³Øª", "Ø§Ù„Ø£Ù„Ø¨", "Ø§Ù„Ø£Ù†Ø¯ÙŠØ²"],
                    correct: 1
                },
                {
                    question: "ğŸº Ø£ÙŠÙ† ØªÙ‚Ø¹ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª Ø§Ù„Ø´Ù‡ÙŠØ±Ø©ØŸ",
                    answers: ["Ù…ØµØ±", "Ø§Ù„Ø¹Ø±Ø§Ù‚", "Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ", "Ø§Ù„Ù‡Ù†Ø¯"],
                    correct: 0
                },
                {
                    question: "ğŸŒ ÙƒÙ… Ø¹Ø¯Ø¯ Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                    answers: ["5", "6", "7", "8"],
                    correct: 2
                },
                {
                    question: "ğŸ›ï¸ Ù…Ù† Ø¨Ù†Ù‰ ØªØ§Ø¬ Ù…Ø­Ù„ØŸ",
                    answers: ["Ø£ÙƒØ¨Ø±", "Ø´Ø§Ù‡ Ø¬Ù‡Ø§Ù†", "Ø¨Ø§Ø¨Ø±", "Ù‡Ù…Ø§ÙŠÙˆÙ†"],
                    correct: 1
                },
                {
                    question: "ğŸŒŠ Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                    answers: ["Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ", "Ø§Ù„Ù‡Ù†Ø¯ÙŠ", "Ø§Ù„Ù‡Ø§Ø¯Ø¦", "Ø§Ù„Ù…ØªØ¬Ù…Ø¯"],
                    correct: 2
                },
                {
                    question: "ğŸ›ï¸ ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© ÙŠÙ‚Ø¹ Ø§Ù„ÙƒÙˆÙ„ÙˆØ³ÙŠÙˆÙ…ØŸ",
                    answers: ["Ø£Ø«ÙŠÙ†Ø§", "Ø±ÙˆÙ…Ø§", "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", "Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„"],
                    correct: 1
                },
                {
                    question: "ğŸŒ Ù…Ø§ Ù‡ÙŠ Ø£ØµØºØ± Ù‚Ø§Ø±Ø©ØŸ",
                    answers: ["Ø£ÙˆØ±ÙˆØ¨Ø§", "Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§", "Ø£Ù†ØªØ§Ø±ÙƒØªÙŠÙƒØ§", "Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©"],
                    correct: 1
                },
                {
                    question: "ğŸ›ï¸ Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ",
                    answers: ["1938", "1939", "1940", "1941"],
                    correct: 1
                }
            ],
            // Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© - Ø§Ù„Ø£Ø¯Ø¨ ÙˆØ§Ù„ÙÙ†ÙˆÙ†
            [
                {
                    question: "ğŸ“š Ù…Ù† ÙƒØªØ¨ Ø±ÙˆØ§ÙŠØ© 'Ù…Ø¦Ø© Ø¹Ø§Ù… Ù…Ù† Ø§Ù„Ø¹Ø²Ù„Ø©'ØŸ",
                    answers: ["Ø¨ÙˆØ±Ø®ÙŠØ³", "ØºØ§Ø¨Ø±ÙŠÙŠÙ„ ØºØ§Ø±Ø³ÙŠØ§ Ù…Ø§Ø±ÙƒÙŠØ²", "Ø¥ÙŠØ²Ø§Ø¨ÙŠÙ„ Ø§Ù„Ù„ÙŠÙ†Ø¯ÙŠ", "Ø£ÙˆÙƒØªØ§ÙÙŠÙˆ Ø¨Ø§Ø«"],
                    correct: 1
                },
                {
                    question: "ğŸ¨ Ù…Ù† Ø±Ø³Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙˆÙ†Ø§Ù„ÙŠØ²Ø§ØŸ",
                    answers: ["Ù…Ø§ÙŠÙƒÙ„ Ø£Ù†Ø¬Ù„Ùˆ", "Ù„ÙŠÙˆÙ†Ø§Ø±Ø¯Ùˆ Ø¯Ø§ ÙÙŠÙ†Ø´ÙŠ", "Ø¨ÙŠÙƒØ§Ø³Ùˆ", "ÙØ§Ù† Ø¬ÙˆØ®"],
                    correct: 1
                },
                {
                    question: "ğŸ­ Ù…Ù† ÙƒØªØ¨ Ù…Ø³Ø±Ø­ÙŠØ© 'Ù‡Ø§Ù…Ù„Øª'ØŸ",
                    answers: ["ÙƒØ±ÙŠØ³ØªÙˆÙØ± Ù…Ø§Ø±Ù„Ùˆ", "ÙˆÙ„ÙŠÙ… Ø´ÙƒØ³Ø¨ÙŠØ±", "Ø¨Ù† Ø¬ÙˆÙ†Ø³ÙˆÙ†", "Ø¬ÙˆÙ† ÙˆÙŠØ¨Ø³ØªØ±"],
                    correct: 1
                },
                {
                    question: "ğŸµ ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆØªØ§Ø± ÙÙŠ Ø¢Ù„Ø© Ø§Ù„ÙƒÙ…Ø§Ù†ØŸ",
                    answers: ["3", "4", "5", "6"],
                    correct: 1
                },
                {
                    question: "ğŸ“– Ù…Ù† ÙƒØªØ¨ 'Ø§Ù„Ø¥Ù„ÙŠØ§Ø°Ø©'ØŸ",
                    answers: ["Ù‡ÙˆÙ…ÙŠØ±ÙˆØ³", "Ø³ÙˆÙÙˆÙƒÙ„ÙŠØ³", "Ø£Ø±Ø³Ø·Ùˆ", "Ø£ÙÙ„Ø§Ø·ÙˆÙ†"],
                    correct: 0
                },
                {
                    question: "ğŸ¨ ÙÙŠ Ø£ÙŠ Ù…ØªØ­Ù ØªÙˆØ¬Ø¯ Ù„ÙˆØ­Ø© 'Ù„ÙŠÙ„Ø© Ø§Ù„Ù†Ø¬ÙˆÙ…'ØŸ",
                    answers: ["Ø§Ù„Ù„ÙˆÙØ±", "Ù…ØªØ­Ù Ø§Ù„ÙÙ† Ø§Ù„Ø­Ø¯ÙŠØ«", "Ø§Ù„Ù‡ÙŠØ±Ù…ÙŠØªØ§Ø¬", "Ø§Ù„Ø¨Ø±Ø§Ø¯Ùˆ"],
                    correct: 1
                },
                {
                    question: "ğŸ­ ÙƒÙ… Ø¹Ø¯Ø¯ Ù…Ø³Ø±Ø­ÙŠØ§Øª Ø´ÙƒØ³Ø¨ÙŠØ±ØŸ",
                    answers: ["35", "37", "39", "41"],
                    correct: 1
                },
                {
                    question: "ğŸµ Ù…Ù† Ø£Ù„Ù 'Ø§Ù„ÙØµÙˆÙ„ Ø§Ù„Ø£Ø±Ø¨Ø¹Ø©'ØŸ",
                    answers: ["Ù…ÙˆØ²Ø§Ø±Øª", "Ø¨ÙŠØªÙ‡ÙˆÙÙ†", "ÙÙŠÙØ§Ù„Ø¯ÙŠ", "Ø¨Ø§Ø®"],
                    correct: 2
                },
                {
                    question: "ğŸ“š Ù…Ù† ÙƒØªØ¨ 'Ø¯ÙˆÙ† ÙƒÙŠØ®ÙˆØªÙ‡'ØŸ",
                    answers: ["Ù„ÙˆØ¨ÙŠ Ø¯ÙŠ ÙÙŠØºØ§", "Ø³Ø±ÙØ§Ù†ØªØ³", "ÙƒØ§Ù„Ø¯ÙŠØ±ÙˆÙ†", "ØºÙˆÙ†ØºÙˆØ±Ø§"],
                    correct: 1
                },
                {
                    question: "ğŸ¨ Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙÙ† Ø§Ù„Ø°ÙŠ ÙŠÙØ·Ù„Ù‚ Ø¹Ù„ÙŠÙ‡ 'Ø§Ù„ÙÙ† Ø§Ù„Ø³Ø§Ø¨Ø¹'ØŸ",
                    answers: ["Ø§Ù„Ù…Ø³Ø±Ø­", "Ø§Ù„Ø³ÙŠÙ†Ù…Ø§", "Ø§Ù„Ø±Ù‚Øµ", "Ø§Ù„Ø£ÙˆØ¨Ø±Ø§"],
                    correct: 1
                }
            ]
        ];

        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];

        function cellClick(index) {
            if (board[index] !== '' || !gameActive) return;
            
            currentCellIndex = index;
            showQuestion();
        }

        function getRandomQuestion() {
            const currentQuestions = questionSets[currentQuestionSet];
            let availableQuestions = currentQuestions.filter((_, index) => !usedQuestions.has(index));
            
            if (availableQuestions.length === 0) {
                usedQuestions.clear();
                availableQuestions = currentQuestions;
            }
            
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            const selectedQuestion = availableQuestions[randomIndex];
            const originalIndex = currentQuestions.indexOf(selectedQuestion);
            usedQuestions.add(originalIndex);
            
            return selectedQuestion;
        }

        function showQuestion() {
            const question = getRandomQuestion();
            document.getElementById('questionText').textContent = question.question;
            
            const buttonsContainer = document.getElementById('answerButtons');
            buttonsContainer.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.textContent = answer;
                button.className = 'answer-btn w-full text-black font-bold py-4 px-8 rounded-2xl text-xl';
                button.onclick = () => answerQuestion(index === question.correct);
                buttonsContainer.appendChild(button);
            });
            
            document.getElementById('questionModal').classList.remove('hidden');
            document.getElementById('questionModal').classList.add('flex');
        }

        function answerQuestion(isCorrect) {
            document.getElementById('questionModal').classList.add('hidden');
            document.getElementById('questionModal').classList.remove('flex');
            
            if (isCorrect) {
                const successMessages = [
                    "ğŸŒŸ Ø±Ø§Ø¦Ø¹Ø©! Ø£Ù†ØªÙ Ù†Ø¬Ù…Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©!",
                    "âš¡ Ù…Ù…ØªØ§Ø²Ø©! Ø¹Ù‚Ù„ÙƒÙ Ù…ØªØ£Ù„Ù‚!",
                    "ğŸ”¥ Ø¨Ø·Ù„Ø©! Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø°Ù‡Ù„Ø©!",
                    "ğŸš€ Ø¹Ø¨Ù‚Ø±ÙŠØ©! ØªØ³ØªØ­Ù‚ÙŠÙ† Ø§Ù„ØªØµÙÙŠÙ‚!",
                    "ğŸ’ Ø£Ø³Ø·ÙˆØ±ÙŠØ©! Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒÙ Ù‚ÙˆÙŠØ©!",
                    "ğŸ† Ø¨Ø·Ù„Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©! ÙˆØ§ØµÙ„ÙŠ Ø§Ù„ØªÙ…ÙŠØ²!",
                    "â­ Ù†Ø¬Ù…Ø© Ø³Ø§Ø·Ø¹Ø©! Ø¥Ø¬Ø§Ø¨Ø© Ø±Ø§Ø¦Ø¹Ø©!",
                    "ğŸ¯ Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©! Ø£Ù†ØªÙ Ù…ØªÙÙˆÙ‚Ø©!"
                ];
                const randomSuccess = successMessages[Math.floor(Math.random() * successMessages.length)];
                makeMove();
                showResult(true, randomSuccess, "ØªÙ… ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…ØªÙƒÙ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ø³ØªÙ…Ø±ÙŠ ÙÙŠ Ø§Ù„ØªØ£Ù„Ù‚!");
            } else {
                const failMessages = [
                    "ğŸ’ª Ù„Ø§ ØªØ³ØªØ³Ù„Ù…ÙŠ! Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø³ØªÙƒÙˆÙ† Ø£ÙØ¶Ù„!",
                    "ğŸ”¥ ØªØ­Ø¯ÙŠ Ø±Ø§Ø¦Ø¹! Ø¹ÙˆØ¯ÙŠ Ø¨Ù‚ÙˆØ© Ø£ÙƒØ¨Ø±!",
                    "âš¡ ÙƒÙ„ Ø®Ø·Ø£ Ø¯Ø±Ø³! Ø£Ù†ØªÙ ØªØªØ¹Ù„Ù…ÙŠÙ† ÙˆØªØªØ·ÙˆØ±ÙŠÙ†!",
                    "ğŸŒŸ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù†Ø¬Ø§Ø­! ÙˆØ§ØµÙ„ÙŠ Ø§Ù„Ù‚ØªØ§Ù„!",
                    "ğŸš€ Ø§Ù„Ø¨Ø·Ù„Ø§Øª Ù„Ø§ ÙŠØ³ØªØ³Ù„Ù…Ù†! Ø¹ÙˆØ¯Ø© Ù‚ÙˆÙŠØ©!",
                    "ğŸ’ ÙƒÙ„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ¬Ø¹Ù„ÙƒÙ Ø£Ù‚ÙˆÙ‰! Ù„Ø§ ØªØªÙˆÙ‚ÙÙŠ!",
                    "ğŸ† Ø§Ù„ÙØ´Ù„ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù†Ø¬Ø§Ø­! Ø§Ù†Ø·Ù„Ù‚ÙŠ Ø¨Ù‚ÙˆØ©!",
                    "â­ Ø§Ù„Ù†Ø¬ÙˆÙ… ØªÙˆÙ„Ø¯ Ù…Ù† Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª! Ø£Ù†ØªÙ Ù†Ø¬Ù…Ø©!"
                ];
                const randomFail = failMessages[Math.floor(Math.random() * failMessages.length)];
                showResult(false, randomFail, "Ø§Ù„Ø¯ÙˆØ± Ø§Ù„ØªØ§Ù„ÙŠ ÙØ±ØµØªÙƒÙ Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù…! Ø§Ø³ØªØ¹Ø¯ÙŠ Ù„Ù„Ù…Ø¹Ø±ÙƒØ©!");
                switchPlayer();
            }
        }

        function makeMove() {
            board[currentCellIndex] = currentPlayer;
            document.getElementsByClassName('cell')[currentCellIndex].textContent = currentPlayer;
            document.getElementsByClassName('cell')[currentCellIndex].style.color = currentPlayer === 'X' ? '#ff6b6b' : '#4ecdc4';
            
            if (checkWinner()) {
                gameActive = false;
                if (currentPlayer === 'X') {
                    scoreX++;
                    document.getElementById('scoreX').textContent = scoreX;
                } else {
                    scoreO++;
                    document.getElementById('scoreO').textContent = scoreO;
                }
                setTimeout(() => {
                    const winMessages = [
                        `ğŸ† Ø£Ø³Ø·ÙˆØ±Ø©! Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} Ù…Ù„ÙƒØ© Ø§Ù„Ù…Ø¹Ø±ÙØ©!`,
                        `âš¡ Ø¹Ø§ØµÙØ© Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡! Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} Ø¨Ø·Ù„Ø© Ù„Ø§ ØªÙÙ‚Ù‡Ø±!`,
                        `ğŸ”¥ Ø§Ù†ØªØµØ§Ø± Ø³Ø§Ø­Ù‚! Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} Ø¹Ø¨Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹ØµØ±!`,
                        `ğŸŒŸ Ù†Ø¬Ù…Ø© Ù…ØªØ£Ù„Ù‚Ø©! Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} Ø³ÙŠØ¯Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨!`,
                        `ğŸš€ ØµØ§Ø±ÙˆØ® Ø§Ù„Ù…Ø¹Ø±ÙØ©! Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} ÙˆØµÙ„Øª Ù„Ù„Ù‚Ù…Ø©!`
                    ];
                    const randomWin = winMessages[Math.floor(Math.random() * winMessages.length)];
                    showResult(true, randomWin, "ğŸŠ Ø§Ù†ØªØµØ§Ø± Ù…Ø°Ù‡Ù„! Ø£Ù†ØªÙ Ø¨Ø·Ù„Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ© ØªØ³ØªØ­Ù‚ÙŠÙ† ÙƒÙ„ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±! ğŸŠ");
                }, 1000);
                return;
            }
            
            if (board.every(cell => cell !== '')) {
                gameActive = false;
                setTimeout(() => {
                    const drawMessages = [
                        "ğŸ¤ Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±! ØªØ¹Ø§Ø¯Ù„ Ù…Ù„Ø­Ù…ÙŠ!",
                        "âš”ï¸ ØµØ±Ø§Ø¹ Ø§Ù„Ø¬Ø¨Ø§Ø¨Ø±Ø©! Ù‚ÙˆØ© Ù…ØªØ³Ø§ÙˆÙŠØ©!",
                        "ğŸ”¥ Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†Ø§Ø± Ø¨Ø§Ù„Ù†Ø§Ø±! ØªØ¹Ø§Ø¯Ù„ Ø±Ø§Ø¦Ø¹!",
                        "âš¡ Ø¨Ø±Ù‚ ÙŠØµØ·Ø¯Ù… Ø¨Ø¨Ø±Ù‚! Ø·Ø§Ù‚Ø© Ù…ØªÙˆØ§Ø²Ù†Ø©!",
                        "ğŸŒŸ Ù†Ø¬Ù…ØªØ§Ù† ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡! Ø¥Ø¨Ø¯Ø§Ø¹ Ù…Ø´ØªØ±Ùƒ!"
                    ];
                    const randomDraw = drawMessages[Math.floor(Math.random() * drawMessages.length)];
                    showResult(true, randomDraw, "ğŸ­ Ø¹Ø±Ø¶ Ù…Ø°Ù‡Ù„ Ù…Ù† ÙƒÙ„Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ØªÙŠÙ†! Ø£Ù†ØªÙ…Ø§ Ø¨Ø·Ù„ØªØ§Ù† Ø­Ù‚ÙŠÙ‚ÙŠØªØ§Ù†! ğŸ­");
                }, 1000);
                return;
            }
            
            switchPlayer();
        }

        function switchPlayer() {
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            const playerMessages = [
                `ğŸ¯ Ø¯ÙˆØ± Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} - Ø§Ø³ØªØ¹Ø¯ÙŠ Ù„Ù„Ù…Ø¹Ø±ÙƒØ©!`,
                `âš¡ Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} - Ø£Ø¸Ù‡Ø±ÙŠ Ù‚ÙˆØªÙƒÙ!`,
                `ğŸ”¥ Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} ÙÙŠ Ø§Ù„Ø³Ø§Ø­Ø© - Ø§Ø«Ø¨ØªÙŠ ØªÙÙˆÙ‚ÙƒÙ!`,
                `ğŸŒŸ Ø¯ÙˆØ± Ø§Ù„Ø¨Ø·Ù„Ø© ${currentPlayer === 'X' ? 'Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Ø§Ù„Ø«Ø§Ù†ÙŠØ©'} - Ø§Ø¬Ø¹Ù„ÙŠ Ø§Ù„Ø¬Ù…ÙŠØ¹ ÙŠØ´Ø§Ù‡Ø¯!`
            ];
            const randomMessage = playerMessages[Math.floor(Math.random() * playerMessages.length)];
            document.getElementById('currentPlayer').textContent = randomMessage;
        }

        function checkWinner() {
            return winningConditions.some(condition => {
                const [a, b, c] = condition;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    [a, b, c].forEach(index => {
                        document.getElementsByClassName('cell')[index].classList.add('winner-line');
                    });
                    return true;
                }
                return false;
            });
        }

        function showResult(success, title, message) {
            document.getElementById('resultIcon').textContent = success ? (title.includes('ÙØ§Ø²Øª') || title.includes('Ø£Ø³Ø·ÙˆØ±Ø©') ? 'ğŸ†' : title.includes('ØªØ¹Ø§Ø¯Ù„') ? 'ğŸ¤' : 'âœ…') : 'âŒ';
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultModal').classList.remove('hidden');
            document.getElementById('resultModal').classList.add('flex');
        }

        function closeResultModal() {
            document.getElementById('resultModal').classList.add('hidden');
            document.getElementById('resultModal').classList.remove('flex');
            
            if (!gameActive) {
                resetBoard();
            }
        }

        function resetBoard() {
            board = ['', '', '', '', '', '', '', '', ''];
            gameActive = true;
            currentPlayer = 'X';
            document.getElementById('currentPlayer').textContent = 'ğŸ¯ Ø¯ÙˆØ± Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø§Ø³ØªØ¹Ø¯ÙŠ Ù„Ù„ØªØ­Ø¯ÙŠ!';
            
            const cells = document.getElementsByClassName('cell');
            for (let cell of cells) {
                cell.textContent = '';
                cell.classList.remove('winner-line');
                cell.style.backgroundColor = '';
                cell.style.color = '';
            }
        }

        function resetGame() {
            resetBoard();
            scoreX = 0;
            scoreO = 0;
            usedQuestions.clear();
            // ØªØºÙŠÙŠØ± Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
            currentQuestionSet = (currentQuestionSet + 1) % questionSets.length;
            document.getElementById('scoreX').textContent = '0';
            document.getElementById('scoreO').textContent = '0';
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9755ee51a168c71e',t:'MTc1NjIzODU4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
